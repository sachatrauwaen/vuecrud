(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vuecrud"]=t(require("vue")):e["vuecrud"]=t(e["Vue"])})("undefined"!==typeof self?self:this,function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var o=n("2d00"),r=n("5ca1"),i=n("2aba"),a=n("32e9"),s=n("84f2"),c=n("41a0"),u=n("7f20"),l=n("38fd"),f=n("2b4c")("iterator"),p=!([].keys&&"next"in[].keys()),m="@@iterator",d="keys",h="values",v=function(){return this};e.exports=function(e,t,n,g,b,y,x){c(n,t,g);var _,w,S,$=function(e){if(!p&&e in j)return j[e];switch(e){case d:return function(){return new n(this,e)};case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",C=b==h,O=!1,j=e.prototype,E=j[f]||j[m]||b&&j[b],T=E||$(b),M=b?C?$("entries"):T:void 0,A="Array"==t&&j.entries||E;if(A&&(S=l(A.call(new e)),S!==Object.prototype&&S.next&&(u(S,k,!0),o||"function"==typeof S[f]||a(S,f,v))),C&&E&&E.name!==h&&(O=!0,T=function(){return E.call(this)}),o&&!x||!p&&!O&&j[f]||a(j,f,T),s[t]=T,s[k]=v,b)if(_={values:C?T:$(h),keys:y?T:$(d),entries:M},x)for(w in _)w in j||i(j,w,_[w]);else r(r.P+r.F*(p||O),t,_);return _}},"0a49":function(e,t,n){var o=n("9b43"),r=n("626a"),i=n("4bf8"),a=n("9def"),s=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,p=5==e||f,m=t||s;return function(t,s,d){for(var h,v,g=i(t),b=r(g),y=o(s,d,3),x=a(b.length),_=0,w=n?m(t,x):c?m(t,0):void 0;x>_;_++)if((p||_ in b)&&(h=b[_],v=y(h,_,g),e))if(n)w[_]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return _;case 2:w.push(h)}else if(l)return!1;return f?-1:u||l?l:w}}},"0d58":function(e,t,n){var o=n("ce10"),r=n("e11e");e.exports=Object.keys||function(e){return o(e,r)}},1169:function(e,t,n){var o=n("2d95");e.exports=Array.isArray||function(e){return"Array"==o(e)}},"11e9":function(e,t,n){var o=n("52a7"),r=n("4630"),i=n("6821"),a=n("6a99"),s=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return r(!o.f.call(e,t),e[t])}},1495:function(e,t,n){var o=n("86cc"),r=n("cb7c"),i=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){r(e);var n,a=i(t),s=a.length,c=0;while(s>c)o.f(e,n=a[c++],t[n]);return e}},"1eb2":function(e,t,n){var o;"undefined"!==typeof window&&((o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js$/))&&(n.p=o[1]))},"20d6":function(e,t,n){"use strict";var o=n("5ca1"),r=n("0a49")(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),o(o.P+o.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"230e":function(e,t,n){var o=n("d3f4"),r=n("7726").document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},"2aba":function(e,t,n){var o=n("7726"),r=n("32e9"),i=n("69a8"),a=n("ca5a")("src"),s="toString",c=Function[s],u=(""+c).split(s);n("8378").inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||r(n,a,e[t]?""+e[t]:u.join(String(t)))),e===o?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},"2aeb":function(e,t,n){var o=n("cb7c"),r=n("1495"),i=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=n("230e")("iframe"),o=i.length,r="<",a=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),u=e.F;while(o--)delete u[c][i[o]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=o(e),n=new s,s[c]=null,n[a]=e):n=u(),void 0===t?n:r(n,t)}},"2b4c":function(e,t,n){var o=n("5537")("wks"),r=n("ca5a"),i=n("7726").Symbol,a="function"==typeof i,s=e.exports=function(e){return o[e]||(o[e]=a&&i[e]||(a?i:r)("Symbol."+e))};s.store=o},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"32e9":function(e,t,n){var o=n("86cc"),r=n("4630");e.exports=n("9e1e")?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var o=n("69a8"),r=n("4bf8"),i=n("613b")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"41a0":function(e,t,n){"use strict";var o=n("2aeb"),r=n("4630"),i=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(a,{next:r(1,n)}),i(e,t+" Iterator")}},"456d":function(e,t,n){var o=n("4bf8"),r=n("0d58");n("5eda")("keys",function(){return function(e){return r(o(e))}})},4588:function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var o=n("be13");e.exports=function(e){return Object(o(e))}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var o=n("8378"),r=n("7726"),i="__core-js_shared__",a=r[i]||(r[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var o=n("7726"),r=n("8378"),i=n("32e9"),a=n("2aba"),s=n("9b43"),c="prototype",u=function(e,t,n){var l,f,p,m,d=e&u.F,h=e&u.G,v=e&u.S,g=e&u.P,b=e&u.B,y=h?o:v?o[t]||(o[t]={}):(o[t]||{})[c],x=h?r:r[t]||(r[t]={}),_=x[c]||(x[c]={});for(l in h&&(n=t),n)f=!d&&y&&void 0!==y[l],p=(f?y:n)[l],m=b&&f?s(p,o):g&&"function"==typeof p?s(Function.call,p):p,y&&a(y,l,p,e&u.U),x[l]!=p&&i(x,l,m),g&&_[l]!=p&&(_[l]=p)};o.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5dbc":function(e,t,n){var o=n("d3f4"),r=n("8b97").set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(e,i),e}},"5eda":function(e,t,n){var o=n("5ca1"),r=n("8378"),i=n("79e5");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),o(o.S+o.F*i(function(){n(1)}),"Object",a)}},"613b":function(e,t,n){var o=n("5537")("keys"),r=n("ca5a");e.exports=function(e){return o[e]||(o[e]=r(e))}},"626a":function(e,t,n){var o=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},6821:function(e,t,n){var o=n("626a"),r=n("be13");e.exports=function(e){return o(r(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var o=n("d3f4");e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var o=n("4588"),r=Math.max,i=Math.min;e.exports=function(e,t){return e=o(e),e<0?r(e+t,0):i(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7f20":function(e,t,n){var o=n("86cc").f,r=n("69a8"),i=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},"7f7f":function(e,t,n){var o=n("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in r||n("9e1e")&&o(r,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},8378:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var o=n("cb7c"),r=n("c69a"),i=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8b97":function(e,t,n){var o=n("d3f4"),r=n("cb7c"),i=function(e,t){if(r(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},"8bbf":function(t,n){t.exports=e},9093:function(e,t,n){var o=n("ce10"),r=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},"9b43":function(e,t,n){var o=n("d8e8");e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var o=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[o]&&n("32e9")(r,o,{}),e.exports=function(e){r[o][e]=!0}},"9def":function(e,t,n){var o=n("4588"),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},aa77:function(e,t,n){var o=n("5ca1"),r=n("be13"),i=n("79e5"),a=n("fdef"),s="["+a+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e,t,n){var r={},s=i(function(){return!!a[e]()||c[e]()!=c}),u=r[e]=s?t(p):a[e];n&&(r[n]=u),o(o.P+o.F*s,"String",r)},p=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},ac6a:function(e,t,n){for(var o=n("cadf"),r=n("0d58"),i=n("2aba"),a=n("7726"),s=n("32e9"),c=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),p=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(m),h=0;h<d.length;h++){var v,g=d[h],b=m[g],y=a[g],x=y&&y.prototype;if(x&&(x[l]||s(x,l,p),x[f]||s(x,f,g),c[g]=p,b))for(v in o)x[v]||i(x,v,o[v],!0)}},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var o=n("6821"),r=n("9def"),i=n("77f1");e.exports=function(e){return function(t,n,a){var s,c=o(t),u=r(c.length),l=i(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},c5f6:function(e,t,n){"use strict";var o=n("7726"),r=n("69a8"),i=n("2d95"),a=n("5dbc"),s=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,p=n("aa77").trim,m="Number",d=o[m],h=d,v=d.prototype,g=i(n("2aeb")(v))==m,b="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():p(t,3);var n,o,r,i=t.charCodeAt(0);if(43===i||45===i){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if(a=c.charCodeAt(u),a<48||a>r)return NaN;return parseInt(c,o)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(g?c(function(){v.valueOf.call(n)}):i(n)!=m)?a(new h(y(t)),n,d):y(t)};for(var x,_=n("9e1e")?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)r(h,x=_[w])&&!r(d,x)&&f(d,x,l(h,x));d.prototype=v,v.constructor=d,n("2aba")(o,m,d)}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},cadf:function(e,t,n){"use strict";var o=n("9c6c"),r=n("d53b"),i=n("84f2"),a=n("6821");e.exports=n("01f9")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},cb7c:function(e,t,n){var o=n("d3f4");e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,n){var o=n("e853");e.exports=function(e,t){return new(o(e))(t)}},ce10:function(e,t,n){var o=n("69a8"),r=n("6821"),i=n("c366")(!1),a=n("613b")("IE_PROTO");e.exports=function(e,t){var n,s=r(e),c=0,u=[];for(n in s)n!=a&&o(s,n)&&u.push(n);while(t.length>c)o(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e853:function(e,t,n){var o=n("d3f4"),r=n("1169"),i=n("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},fab2:function(e,t,n){var o=n("7726").document;e.exports=o&&o.documentElement},fb15:function(e,t,n){"use strict";n.r(t);n("1eb2"),n("cadf"),n("456d"),n("ac6a"),n("7f7f");var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.autocompleteText,expression:"autocompleteText"}],ref:"autocompvare",staticClass:"el-input__inner",staticStyle:{width:"500px"},attrs:{type:"text",id:e.id,placeholder:e.placeholder},domProps:{value:e.autocompleteText},on:{focus:function(t){e.onFocus()},blur:function(t){e.onBlur()},change:e.onChange,keypress:e.onKeyPress,input:function(t){t.target.composing||(e.autocompleteText=t.target.value)}}})])},r=[],i=n("8bbf"),a=n.n(i),s={name:"oa-address",props:{value:Object,prop:String,schema:{},options:{},messages:{},id:{type:String,default:function(){return"address"+Math.floor(1e3*Math.random()+1)}},placeholder:{type:String,default:"Start typing"},types:{type:String,default:"address"},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1}},data:function(){return{autocomplete:null,autocompleteText:""}},watch:{autocompleteText:function(e,t){this.$emit("inputChange",{newVal:e,oldVal:t})}},mounted:function(){var e=this;c({libraries:["places"],key:"AIzaSyCe1exctmeJjIb4guyT6newSpyJ7kA3aLc",client:"",version:"3",loadGoogleApi:!0},function(t){var n={};e.types&&(n.types=[e.types]),e.country&&(n.componentRestrictions={country:e.country}),e.autocomplete=new google.maps.places.Autocomplete(document.getElementById(e.id),n),e.autocomplete.addListener("place_changed",function(){var t=e.autocomplete.getPlace();if(t.geometry){var n={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},o={};if(void 0!==t.address_components){for(var r=0;r<t.address_components.length;r++){var i=t.address_components[r].types[0];if(n[i]){var a=t.address_components[r][n[i]];o[i]=a}}o["latitude"]=t.geometry.location.lat(),o["longitude"]=t.geometry.location.lng(),e.autocompleteText=document.getElementById(e.id).value,e.onChange(),e.$emit("propChange","street",o.route+(o.street_number?" "+o.street_number:"")),e.$emit("propChange","postalCode",o.postal_code),e.$emit("propChange","city",o.locality),e.$emit("propChange","country",o.country)}}else e.$emit("no-results-found",t)})})},methods:{onFocus:function(){this.geolocate(),this.$emit("focus")},onBlur:function(){this.$emit("blur")},onChange:function(){this.$emit("change",this.autocompleteText)},onKeyPress:function(e){this.$emit("keypress",e)},clear:function(){this.autocompleteText=""},focus:function(){this.$refs.autocomplete.focus()},blur:function(){this.$refs.autocomplete.blur()},geolocate:function(){this.enableGeolocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},n=new google.maps.Circle({center:t,radius:e.coords.accuracy});this.autocomplete.setBounds(n.getBounds())})}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},properties:function(){return this.schema.properties},fields:function(){var e={};for(var t in this.schema.properties)this.columns?this.columns.indexOf(t)>0&&(e[t]=this.schema.properties[t]):"id"==t||this.schema.properties[t].readonly||this.schema.properties[t]["x-rel-app"]||(e[t]=this.schema.properties[t]);return e}}};function c(e,t){e.loadGoogleApi?a.a.google?t(a.a.google):window.loadGoogleMapsAPI({key:e.key,client:e.client,libraries:e.libraries,v:e.version},function(e){a.a.google=e,a.a.prototype.$google=e,t(e)}):t(window.google.maps?window.google.maps:window.google)}var u="__googleMapsApiOnLoadCallback",l=["client","key","language","region","v"];window.loadGoogleMapsAPI=function(e,t){if(e=e||{},"undefined"===typeof window&&alert("Can only load the Google Maps API in the browser"),window[u])return oldCallBack=window[u],void(window[u]=function(){oldCallBack(),t&&t(window.google.maps)});var n=setTimeout(function(){window[u]=function(){},alert("Could not load the Google Maps API")},e.timeout||1e4);window[u]=function(){null!==n&&clearTimeout(n),t&&t(window.google.maps),delete window[u]};var o=document.createElement("script"),r=["callback="+u];l.forEach(function(t){e[t]&&r.push(t+"="+e[t])}),e.libraries&&e.libraries.length&&r.push("libraries="+e.libraries.join(",")),o.src="https://maps.googleapis.com/maps/api/js?"+r.join("&"),document.body.appendChild(o)};var f=s;function p(e,t,n,o,r,i,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}var m=p(f,o,r,!1,null,null,null),d=m.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-checkbox-group",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.options,function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))},v=[],g={name:"oa-checkbox-group",props:{value:{type:Array,default:function(){return[]}},schema:{},prop:String},data:function(){return{options:[]}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},resource:function(){return this.$route.params.resource}},created:function(){var e=this,t=this.schema["x-enum-action"];if(t){var n=this.schema["x-enum-valuefield"],o=this.schema["x-enum-textfield"]||this.schema["x-enum-valuefield"],r=abp.services.app[e.resource][t];r().done(function(t){e.options=t.items.map(function(e){return{value:e[n],label:e[o]}})}).always(function(){})}else{if(!this.schema.enum)return[];this.options=this.schema.enum.map(function(e){return{value:e,label:e}})}}},b=g,y=p(b,h,v,!1,null,null,null),x=y.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("oa-form",{ref:"form",attrs:{model:e.model,schema:e.schema,actions:e.actions,connector:e.connector,messages:e.messages}})},w=[],S={jsonSchema:{}};S.jsonSchema.getNotNull=function(e){if(e.oneOf){var t=e.oneOf.filter(function(e){e.type});return t.length>0?t[0]:e}return e},S.isMobile=function(){return window.matchMedia("only screen and (max-width: 760px)").matches},S.jsonSchema.resolve=function(e){return e};var $=S,k={name:"oa-crud-form",props:{},data:function(){var e=this;return{model:{},actions:[{name:"Save",type:"primary",execute:function(){e.$refs.form.validate(function(t){if(!t)return!1;e.saveData(e.model,function(){e.$message({type:"success",message:"Save completed"}),e.$router.push({name:"grid",params:{resource:e.resource}})})})}},{name:"Cancel",execute:function(){e.$router.push({name:"grid",params:{resource:e.resource}})}}]}},computed:{module:function(){return this.$route.params.module},resource:function(){return this.$route.params.resource},messages:function(){return this.connector.messages()},id:function(){return this.$route.params.id},isnew:function(){return!this.id},schema:function(){return this.isnew?$.jsonSchema.resolve(this.connector.schema(this.resource,"create")):$.jsonSchema.resolve(this.connector.schema(this.resource,"update"))},options:function(){return null},connector:function(){return this.$root.$options.connector}},methods:{fetchData:function(){var e=this;this.isnew||e.connector.service(this.resource,"get",{id:e.id},function(t){e.model=t},function(){})},saveData:function(e,t){var n=this;n.isnew?n.connector.service(this.resource,"create",e,function(e){t&&t()},function(){}):(e.id=n.id,n.connector.service(this.resource,"update",e,function(e){t&&t()},function(){}))}},created:function(){this.fetchData()},watch:{$route:function(){this.fetchData()}}},C=k,O=p(C,_,w,!1,null,null,null),j=O.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:10}},[n("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},e._l(e.actions,function(t){return n("el-button",{key:t.name,attrs:{icon:t.icon,size:"small",type:t.type},on:{click:function(e){t.execute()}}},[e._v(e._s(t.name))])})),n("el-col",{attrs:{xs:24,sm:22,md:22,lg:22,xl:22}},[e.hasFilter?n("oa-filter-form",{ref:"filterform",attrs:{model:e.filterModel,schema:e.filterSchema,connector:e.connector,actions:e.filterActions,messages:e.messages}}):e._e()],1)],1),n("oa-grid",{attrs:{model:e.model,schema:e.schema,messages:e.messages,options:e.options,actions:e.gridActions,"default-action":e.gridActions[0]}}),n("br"),n("div",{staticStyle:{float:"right","margin-bottom":"10px"}},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"current-change":e.currentPageChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)},T=[],M={name:"oa-crud-grid",data:function(){return{model:[],filterModel:{},totalCount:0,currentPage:1,pageSize:10}},computed:{module:function(){return this.$route.params.module},resource:function(){return this.$route.params.resource},connector:function(){return this.$root.$options.connector},schema:function(){return $.jsonSchema.resolve(this.connector.schema(this.resource,"get"))},messages:function(){return this.connector.messages()},gridActions:function(){var e=this;return[{name:e.translate("Edit"),icon:"el-icon-edit",execute:function(t){e.$router.push({name:"edit",params:{resource:e.resource,id:t.id}})}},{name:e.translate("Delete"),icon:"el-icon-delete",execute:function(t){e.$confirm("Confirm delete ?",e.translate("Delete"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.deleteData(t,function(){e.$message({type:"success",message:e.translate("Delete completed")})})}).catch(function(){})},visible:function(e){return"undefined"===typeof e.canDelete||e.canDelete}}]},defaultAction:function(){return this.gridActions[0]},actions:function(){var e=this;return[{icon:"el-icon-plus",type:"primary",execute:function(){e.$router.push({name:"add",params:{resource:e.resource}})}}]},filterSchema:function(){var e={properties:{}},t=this.connector.schema(this.resource,"filter").properties;for(var n in t)"skipCount"!=n&&"maxResultCount"!=n&&(e.properties[n]=t[n]);return e},hasFilter:function(){return Object.keys(this.filterSchema.properties).length>0},filterActions:function(){var e=this;return[{icon:"el-icon-search",type:"primary",execute:function(){e.fetchData()}},{icon:"el-icon-close",execute:function(){e.$refs.filterform.resetForm(),e.fetchData()}}]},options:function(){return null},totalPages:function(){return Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},methods:{currentPageChange:function(){this.fetchData()},fetchData:function(e){var t=this;t.filterModel.skipCount=(this.currentPage-1)*this.pageSize,t.filterModel.maxResultCount=this.pageSize,t.connector.service(this.resource,"getAll",t.filterModel,function(n){t.model=n.items,t.totalCount=n.totalCount,e&&e()},function(){})},deleteData:function(e,t){var n=this;n.connector.service(this.resource,"delete",{id:e.id},function(){n.fetchData(t)},function(){})},translate:function(e){return this.messages&&this.messages[e]?this.messages[e]:e}},created:function(){this.fetchData()},watch:{$route:function(){this.fetchData()}}},A=M,P=p(A,E,T,!1,null,null,null),F=P.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},N=[],D={name:"oa-daterange",data:function(){return{pickerOptions:{shortcuts:[{text:"Last week",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"Last month",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"Last 3 months",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},props:{value:Array,schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},V=D,I=p(V,L,N,!1,null,null,null),R=I.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("oa-form",{ref:"form",attrs:{model:e.model,schema:e.schema,actions:e.actions,messages:e.messages,connector:e.connector}})},G=[],B={name:"oa-dialog-form",props:{resource:{},value:{},connector:Object},data:function(){var e=this;return{model:{},actions:[{name:"Save",type:"primary",execute:function(){e.$refs.form.validate(function(t){if(!t)return!1;e.saveData(e.model,function(){e.$message({type:"success",message:"Save completed"}),e.$emit("close",e.model)})})}},{name:"Cancel",execute:function(){e.$emit("close")}}]}},computed:{id:function(){return this.value?this.value[this.relationValueField]:null},isnew:function(){return!this.value},relationValueField:function(){return this.schema["x-rel-valuefield"]||"id"},schema:function(){return this.isnew?xt.jsonSchema.resolve(this.connector.schemas(this.resource,"create")):xt.jsonSchema.resolve(this.connector.schemas(this.resource,"update"))},messages:function(){return this.connector.messages()}},methods:{fetchData:function(){var e=this;e.$refs.form.resetForm(),this.isnew?e.model={}:e.connector(e.resource,"get",{id:e.id},function(t){e.model=t},function(){})},saveData:function(e,t){var n=this;n.isnew?n.connector(n.resource,"create",e,function(e){n.model=e,n.$emit("input",e[this.relationValueField]),t&&t()},function(){}):(e.id=n.id,n.connector(n.resource,"update",e,function(e){n.model=e,n.$emit("input",e.id),t&&t()},function(){}))}},mounted:function(){this.fetchData()}},q=B,U=p(q,z,G,!1,null,null,null),H=U.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:e.label,prop:e.prop,"label-width":e.labelWidth}},[n(e.currentView,e._b({tag:"component",on:{propChange:e.propChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"component",e.$props,!1))],1)},X=[],K={name:"oa-field",template:" ",props:{value:{},schema:{},prop:{type:String,default:function(){return""}},messages:{type:Object,default:function(){return{}}},connector:{}},computed:{currentView:function(){var e=$.jsonSchema.getNotNull(this.schema),t=Array.isArray(e.type)?"null"==e.type[0]?e.type[1]:e.type[0]:e.type;t=e["x-type"]?e["x-type"]:e["x-rel-action"]?"relation":e["x-rel-to-many-action"]?"relation-to-many":e.enum||e["x-enum-action"]?"array"==t?"checkbox-group":"select":"boolean"==t?"switch":"integer"==t||"number"==t?"input-number":"array"==t&&"date-time"==this.schema.items.format?"daterange":"date-time"==e.format?"datetime":e["x-ui-multiline"]?"textarea":"address"==t?"address":"input";var n="oa-"+t,o=a.a.component(n);return o||(o=function(e,o){a.a.$loadComponent({name:n,path:this.connector.componentsPath+t+".js",onLoad:e,onError:o})}),o},model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},label:function(){if(this.hideLabel)return"";var e=this.schema.title?this.schema.title:this.prop.capitalize();return this.messages&&this.messages[e]?this.messages[e]:this.schema.title?this.schema.title:e},hideLabel:function(){return this.schema["x-ui-hideLabel"]},labelWidth:function(){return this.hideLabel?"0px":"120px"}},methods:{propChange:function(e,t){this.$emit("propChange",e,t)}}},Y=K,J=p(Y,W,X,!1,null,null,null),Q=J.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":e.labelwidth,inline:!e.isMobile,"label-position":e.labelPosition}},[e._l(e.fields,function(t,o){return n("oa-field",{key:o,attrs:{prop:o,schema:e.properties[o],messages:e.messages,connector:e.connector},on:{propChange:e.propChange},model:{value:e.model[o],callback:function(t){e.$set(e.model,o,t)},expression:"model[key]"}})}),n("el-form-item",e._l(e.actions,function(t){return n("el-button",{key:t.name,attrs:{size:"small",icon:t.icon,type:t.type},on:{click:function(e){t.execute()}}},[e._v(e._s(t.name))])}))],2)},ee=[],te={name:"oa-filter-form",props:{model:{},schema:{},connector:{},options:{},messages:{},actions:{},columns:{}},data:function(){return{}},computed:{properties:function(){return this.schema.properties},fields:function(){if(this.options)return this.options.fields;var e={};for(var t in this.schema.properties)"id"==t||this.schema.properties[t].readonly||this.schema.properties[t]["x-rel-app"]||this.schema.properties[t]["x-rel-to-many-app"]||(e[t]=this.schema.properties[t]);return e},rules:function(){var e={};for(var t in this.schema.properties){var n=[];e[t]=n}return e},isMobile:function(){return window.matchMedia("only screen and (max-width: 760px)").matches},labelPosition:function(){return this.isMobile?"top":"right"},labelwidth:function(){return this.isMobile?"100px":""}},methods:{validate:function(e){this.$refs.form.validate(function(t){e&&e(t)})},submitForm:function(){this.$refs.form.validate(function(e){if(!e)return!1;alert("submit!")})},resetForm:function(){this.$refs.form.resetFields()},label:function(e){return this.messages&&this.messages[e]?this.messages[e]:e},propChange:function(e,t){this.$set(this.model,e,t)}}},ne=te,oe=p(ne,Z,ee,!1,null,null,null),re=oe.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"120px","label-position":e.labelPosition}},[Object.keys(e.tabs).length>1?n("el-tabs",{attrs:{value:Object.keys(e.tabs)[0]}},e._l(e.tabs,function(t,o){return n("el-tab-pane",{key:o,attrs:{label:e.label(o),name:o}},e._l(t,function(t,o){return n("oa-field",{key:o,attrs:{prop:o,schema:e.properties[o],messages:e.messages,connector:e.connector},on:{propChange:e.propChange},model:{value:e.model[o],callback:function(t){e.$set(e.model,o,t)},expression:"model[key]"}})}))})):e._l(e.fields,function(t,o){return n("oa-field",{key:o,attrs:{prop:o,schema:e.properties[o],messages:e.messages,connector:e.connector},on:{propChange:e.propChange},model:{value:e.model[o],callback:function(t){e.$set(e.model,o,t)},expression:"model[key]"}})}),n("el-form-item",e._l(e.actions,function(t){return n("el-button",{key:t.name,attrs:{size:"small",type:t.type},on:{click:function(e){t.execute()}}},[e._v(e._s(t.name))])}))],2)},ae=[],se={name:"oa-form",props:{model:{},schema:{},options:{},messages:{},actions:{},columns:{},connector:{}},data:function(){return{}},computed:{properties:function(){return this.schema.properties},fields:function(){if(this.options)return this.options.fields;var e={};for(var t in this.schema.properties)this.columns?this.columns.indexOf(t)>0&&(e[t]=this.schema.properties[t]):"id"==t||this.schema.properties[t].readonly||this.schema.properties[t]["x-rel-app"]||this.schema.properties[t]["x-rel-to-many-app"]||(e[t]=this.schema.properties[t]);return e},rules:function(){var e={};for(var t in this.schema.properties){var n=this.schema.properties[t],o=[];n.required&&"object"!=n.type&&(o.push({required:!0,message:"Please input a value"}),e[t]=o)}if(this.schema.required)for(var r=0;r<this.schema.required.length;r++){var i=this.schema.required[r],a=e[i];a||(a=[],e[i]=a),a||(a=[],e[t]=a),a.push({required:!0,message:"Please input a value"})}return e},tabs:function(){var e={};for(var t in this.fields){var n=this.fields[t],o=n["x-ui-group"];o in e==0&&(e[o]={}),e[o][t]=n}return e},isMobile:function(){return window.matchMedia("only screen and (max-width: 760px)").matches},labelPosition:function(){return this.isMobile?"top":"right"}},methods:{validate:function(e){this.$refs.form.validate(function(t){e&&e(t)})},resetForm:function(){this.$refs.form.resetFields()},label:function(e){return this.messages&&this.messages[e]?this.messages[e]:e},propChange:function(e,t){this.$set(this.model,e,t)}}},ce=se,ue=p(ce,ie,ae,!1,null,null,null),le=ue.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:e.label,prop:e.prop}},[e._t("default"),e._t("footer")],2)},pe=[],me={name:"oa-form-item",props:{label:{},prop:String,messages:Object},components:{},computed:{},methods:{}},de=me,he=p(de,fe,pe,!1,null,null,null),ve=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isMobile?e._l(e.model,function(t){return n("el-card",{key:t.id,staticStyle:{"margin-bottom":"10px"}},[e._l(e.columns,function(o,r){return n("el-row",{key:r,attrs:{gutter:10}},[n("el-col",{attrs:{span:12}},[e._v(e._s(e.label(r)))]),n("el-col",{attrs:{span:12}},[e._v(e._s(t[r]))])],1)}),n("div",{staticStyle:{"padding-top":"10px"}},e._l(e.actions,function(o){return n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.actionVisible(o,t),expression:"actionVisible(action, row)"}],key:o.name,attrs:{icon:o.icon,size:"small"},on:{click:function(e){o.execute(t)}}})}))],2)}):n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.model,"row-style":{cursor:"pointer"}},on:{"row-click":e.rowClick}},[e._l(e.columns,function(t,o){return n("el-table-column",{key:o,attrs:{prop:o,label:e.label(o),formatter:e.formatter,"class-name":"crudcell"}})}),n("el-table-column",{attrs:{align:"right","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.actions,function(o){return n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.actionVisible(o,t.row,t.$index),expression:"actionVisible(action, scope.row, scope.$index)"}],key:o.name,attrs:{icon:o.icon,size:"small"},on:{click:function(e){o.execute(t.row,t.$index)}}})})}}])})],2)],2)},be=[],ye={name:"oa-grid",props:{model:{},schema:{},messages:{},actions:{},defaultAction:{}},computed:{columns:function(){var e={};for(var t in this.schema.properties)"id"==t||"array"==this.schema.properties[t].type||this.schema.properties[t].hasOwnProperty("x-ui-grid")&&!this.schema.properties[t]["x-ui-grid"]||(e[t]=this.schema.properties[t]);return e},isMobile:function(){return $.isMobile()}},methods:{label:function(e){var t=this.schema.properties[e].title?this.schema.properties[e].title:e.capitalize();return this.messages&&this.messages[t]?this.messages[t]:t},formatter:function(e,t,n){var o=$.jsonSchema.getNotNull(this.schema.properties[t.property]);if("boolean"==o.type)return n?this.messages["Yes"]:this.messages["No"];if("date-time"==o.format)return n?moment(n).locale("fr").format("lll"):"";if(o.enum){var r=o.enum.indexOf(n);return this.messages[o["x-enumNames"][r]]?this.messages[o["x-enumNames"][r]]:o["x-enumNames"][r]}return n},rowClick:function(e,t,n){n.label&&this.defaultAction.execute(e,t,n)},actionVisible:function(e,t,n){return!e.visible||e.visible(t,n)}}},xe=ye,_e=p(xe,ge,be,!1,null,null,null),we=_e.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},$e=[],ke={name:"oa-input",props:{value:String,schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Ce=ke,Oe=p(Ce,Se,$e,!1,null,null,null),je=Oe.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input-number",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},Te=[],Me=(n("c5f6"),{name:"oa-inputnumber",props:{value:Number,schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),Ae=Me,Pe=p(Ae,Ee,Te,!1,null,null,null),Fe=Pe.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-select",{attrs:{multiple:"",value:e.model,"value-key":e.relationValueField,filterable:"",clearable:"",remote:"","remote-method":e.remoteMethod,loading:e.loading},on:{input:e.updateModel,clear:e.clear}},e._l(e.computedOptions,function(e){return n("el-option",{key:e.value.id,attrs:{label:e.label,value:e.value}})})),e.relationResource?n("el-button",{attrs:{icon:e.buttonIcon},on:{click:e.edit}}):e._e(),e._t("footer"),e.relationResource?n("el-dialog",{ref:"customerDialog",attrs:{title:"Client",visible:e.dialogVisible,fullscreen:e.fullscreen,"before-close":e.handleClose,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openDialog,close:e.closeDialog}},[n("oa-dialog-form",{ref:"form",attrs:{resource:e.relationResource},on:{close:e.close},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()],2)},Ne=[],De=(n("20d6"),{name:"oa-relation-to-many",props:{value:{},schema:{},messages:Object,connector:{},prop:String,label:String},data:function(){return{form:{},loading:!1,dialogVisible:!1,options:null}},computed:{relationResource:function(){return this.schema["x-rel-to-many-app"]},relationAction:function(){return this.schema["x-rel-to-many-action"]||"get"+this.prop.capitalize()+"s"},relationValueField:function(){return this.schema["x-rel-to-many-valuefield"]||"id"},relationTextField:function(){return this.schema["x-rel-to-many-textfield"]||"fullName"},id:function(){return this.value?this.value[this.relationValueField]:null},isnew:function(){return!this.value},model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},isMobile:function(){return window.matchMedia("only screen and (max-width: 760px)").matches},fullscreen:function(){return this.isMobile},buttonIcon:function(){return this.isnew?"el-icon-plus":"el-icon-edit"},computedOptions:function(){var e=[];if(this.value&&(e=this.value.map(function(e){return{label:e[this.relationTextField],value:e}}.bind(this))),this.options){var t=e.concat(this.options);return t=t.filter(function(e,t,n){var o=n.findIndex(function(t){return t.value[this.relationValueField]==e.value[this.relationValueField]}.bind(this));if(o==t)return e}.bind(this)),t}return e.length<=0?null:e}},methods:{remoteMethod:function(e){var t=this;!e&&t.value?this.options=null:!e||""===e||t.value&&e==t.value[t.relationTextField]?""==e&&(this.options=null):(t.loading=!0,t.service(t.relationResource,t.relationAction,e,function(e){t.options=e.items.map(function(e){return{label:e[t.relationTextField],value:e}}),t.loading=!1},function(){}))},clear:function(){this.model=null},edit:function(){this.dialogVisible=!0,this.$refs.form&&this.$refs.form.fetchData()},handleClose:function(e){e()},close:function(e){this.dialogVisible=!1,e&&(this.model=e,this.options=null)},updateModel:function(e){this.model=e},openDialog:function(){this.fullscreen&&document.body.classList.add("dialog-open")},closeDialog:function(){this.fullscreen&&document.body.classList.remove("dialog-open")}}}),Ve=De,Ie=p(Ve,Le,Ne,!1,null,null,null),Re=Ie.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-select",{attrs:{"value-key":e.relationValueField,filterable:"",clearable:"",remote:"","remote-method":e.remoteMethod,loading:e.loading},on:{clear:e.clear},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.options,function(e){return n("el-option",{key:e.value.id,attrs:{label:e.label,value:e.value}})})),e.relationResource?n("el-button",{attrs:{icon:e.buttonIcon},on:{click:e.edit}}):e._e(),e._t("footer"),e.relationResource?n("el-dialog",{ref:"customerDialog",attrs:{title:"Client",visible:e.dialogVisible,fullscreen:e.fullscreen,"before-close":e.handleClose,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openDialog,close:e.closeDialog}},[n("oa-dialog-form",{ref:"form",attrs:{resource:e.relationResource},on:{close:e.close},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()],2)},Ge=[],Be={name:"oa-relation",props:{value:{},schema:{},messages:Object,connector:{},prop:String,label:String},data:function(){return{form:{},loading:!1,dialogVisible:!1,options:[]}},computed:{sch:function(){return this.schema.oneOf&&this.schema.oneOf[0]?this.schema.oneOf[0]:this.schema},relationResource:function(){return this.sch["x-rel-app"]},relationAction:function(){return this.sch["x-rel-action"]||"get"+this.prop.capitalize()+"s"},relationValueField:function(){return this.sch["x-rel-valuefield"]||"id"},relationTextField:function(){return this.sch["x-rel-textfield"]||"fullName"},id:function(){return this.value?this.value[this.relationValueField]:null},isnew:function(){return!this.value},model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},isMobile:function(){return window.matchMedia("only screen and (max-width: 760px)").matches},fullscreen:function(){return this.isMobile},buttonIcon:function(){return this.isnew?"el-icon-plus":"el-icon-edit"}},watch:{value:function(e){var t=this;e&&(this.options=[{label:t.value[t.relationTextField],value:e}])}},methods:{remoteMethod:function(e){var t=this;!e&&t.value?this.options.push({label:t.value[t.relationTextField],value:this.value}):!e||""===e||t.value&&e==t.value[t.relationTextField]?""==e&&(this.options=[]):(t.loading=!0,t.connector.service(t.relationResource,t.relationAction,e,function(e){t.options=e.items.map(function(e){return{label:e[t.relationTextField],value:e}}),t.loading=!1},function(){}))},clear:function(){this.model=null},edit:function(){this.dialogVisible=!0,this.$refs.form&&this.$refs.form.fetchData()},handleClose:function(e){e()},close:function(e){var t=this;this.dialogVisible=!1,e&&(this.model=e,this.options=[{label:e[t.relationTextField],value:e}])},openDialog:function(){this.fullscreen&&document.body.classList.add("dialog-open")},closeDialog:function(){this.fullscreen&&document.body.classList.remove("dialog-open")}},created:function(){var e=this;this.value&&(this.options=[{label:e.value[e.relationTextField],value:this.value}])}},qe=Be,Ue=p(qe,ze,Ge,!1,null,null,null),He=Ue.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"Select"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e.hideNone?e._e():n("el-option",{attrs:{label:e.noneLabel,value:e.noneValue}}),e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)},Xe=[],Ke={name:"oa-select",props:{value:{},schema:{},messages:Object,resource:String,prop:String,connector:{}},data:function(){return{options:[],hideNone:!1,noneLabel:"None",noneValue:void 0}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},created:function(){var e=this,t=this.schema.oneOf&&this.schema.oneOf[0]?this.schema.oneOf[0]:this.schema;if(t.enum)for(var n=0;n<t.enum.length;n++){var o=t["x-enumNames"]?t["x-enumNames"][n]:this.prop+"_"+t.enum[n];this.messages&&this.messages[o]&&(o=this.messages[o]),this.options.push({value:t.enum[n],label:o})}else if(t["x-enum-action"]){var r=this.schema["x-enum-action"],i=this.schema["x-enum-valuefield"]||"id",a=this.schema["x-enum-textfield"]||"fullName";e.connector.service(this.resource,r,{},function(t){e.options=t.map(function(e){return{value:e[i],label:e[a]}})},function(){})}t["x-enum-nonelabel"]&&(this.noneLabel=t["x-enum-nonelabel"],this.messages&&this.messages[this.noneLabel]&&(this.noneLabel=this.messages[this.noneLabel])),t["x-enum-hideNone"]&&(this.hideNone=t["x-enum-hideNone"])}},Ye=Ke,Je=p(Ye,We,Xe,!1,null,null,null),Qe=Je.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},et=[],tt={name:"oa-switch",props:{value:Boolean,schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},nt=tt,ot=p(nt,Ze,et,!1,null,null,null),rt=ot.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},at=[],st={name:"oa-textarea",props:{value:String,schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},ct=st,ut=p(ct,it,at,!1,null,null,null),lt=ut.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-time-select",{attrs:{"picker-options":{start:e.start,step:e.step,end:e.end}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},pt=[],mt={name:"oa-time",props:{value:{},schema:{},prop:String,options:{}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},start:function(){return this.schema["x-ui-start"]?this.schema["x-ui-start"]:"00:00"},step:function(){return this.schema["x-ui-step"]?this.schema["x-ui-step"]:"00:30"},end:function(){return this.schema["x-ui-end"]?this.schema["x-ui-end"]:"23:30"}}},dt=mt,ht=p(dt,ft,pt,!1,null,null,null),vt=ht.exports,gt=[d,x,j,F,R,H,Q,re,le,ve,we,je,Fe,Re,He,Qe,rt,lt,vt],bt=function(e){gt.map(function(t){e.component(t.name,t)}),e.$loadComponent=function(t){var n=document.createElement("script");t.onLoad=t.onLoad||function(){},t.onError=t.onError||function(){},n.src=t.path,n.async=!0,n.onload=function(){var n=e.component(t.name);n?t.onLoad(n):t.onError()},n.onerror=t.onError,document.body.appendChild(n)}};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.groupBy=function(e){var t={};return this.forEach(function(n){var o=e(n);o in t==0&&(t[o]=[]),t[o].push(n)}),Object.keys(t).map(function(e){return{key:e,values:t[e]}})};var yt={};gt.forEach(function(e){yt[e.name]=e});var xt={version:"2.0.0",install:bt,components:yt};t["default"]=xt},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})});
//# sourceMappingURL=vuecrud.umd.min.js.map